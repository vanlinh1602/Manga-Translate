{"version":3,"file":"static/js/560.984cf4a4.chunk.js","mappings":"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","sources":["services/api/index.ts","services/index.ts","configs/api.ts","features/Translate/PickImage/index.tsx","utils/image.ts","webpack://manga-translate/./src/features/Translate/styles.module.less?c578","features/Translate/TranslateOptions/index.tsx","webpack://manga-translate/./src/features/Translate/UploadOptions/styles.module.less?6bc0","features/Translate/UploadOptions/index.tsx","features/Translate/index.tsx","pages/Home/index.tsx"],"sourcesContent":["import { ApiResponse, ApisauceConfig, ApisauceInstance, create } from 'apisauce';\nimport type { ApiProblems } from 'types';\n\nfunction getApiProblem(response: ApiResponse<any>): ApiProblems {\n  let problem: ApiProblems = { kind: 'unknown' };\n  switch (response.problem) {\n    case 'CONNECTION_ERROR':\n      problem = { kind: 'cannot-connect', temporary: true };\n      break;\n    case 'NETWORK_ERROR':\n      problem = { kind: 'cannot-connect', temporary: true };\n      break;\n    case 'TIMEOUT_ERROR':\n      problem = { kind: 'timeout', temporary: true };\n      break;\n    case 'SERVER_ERROR':\n      problem = { kind: 'server', error: response.originalError };\n      break;\n    case 'CLIENT_ERROR':\n      switch (response.status) {\n        case 401:\n          problem = { kind: 'unauthorized' };\n          break;\n        case 403:\n          problem = { kind: 'forbidden' };\n          break;\n        case 404:\n          problem = { kind: 'not-found' };\n          break;\n        default:\n          problem = { kind: 'rejected' };\n      }\n      break;\n    case 'CANCEL_ERROR':\n      problem = { kind: 'cancelled' };\n      break;\n    case 'UNKNOWN_ERROR':\n    default:\n  }\n\n  if (response.originalError) {\n    problem.error = response.originalError;\n  }\n\n  return problem;\n}\n\nexport default class Api {\n  api: ApisauceInstance;\n\n  config: ApisauceConfig;\n\n  constructor(config: ApisauceConfig) {\n    this.config = config;\n    this.api = create(config);\n  }\n\n  post = async <T>(path: string, params?: any): Promise<{ kind: 'ok'; data: T } | ApiProblems> => {\n    const response: ApiResponse<any> = await this.api.post(path, params);\n\n    if (response.ok) {\n      return { kind: 'ok', data: response.data };\n    }\n    return getApiProblem(response);\n  };\n}\n","import { BACKEND } from 'configs';\n\nimport Api from './api';\n\nexport const backendService = new Api({\n  baseURL: BACKEND,\n});\n","export const BACKEND = 'http://localhost:8000';\n","import { InboxOutlined } from '@ant-design/icons';\nimport { Upload } from 'antd';\nimport { getBase64 } from 'utils/image';\n\ntype Props = {\n  onSelect: (value: string) => void;\n};\n\nconst PickImage = ({ onSelect }: Props) => {\n  const { Dragger } = Upload;\n\n  return (\n    <Dragger\n      height={window.innerHeight - 200}\n      name=\"file\"\n      beforeUpload={(file) => {\n        getBase64(file).then((value) => onSelect(value));\n      }}\n    >\n      <p className=\"ant-upload-drag-icon\">\n        <InboxOutlined />\n      </p>\n      <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n      <p className=\"ant-upload-hint\">\n        Support for a single or bulk upload. Strictly prohibited from uploading company data or\n        other banned files.\n      </p>\n    </Dragger>\n  );\n};\n\nexport default PickImage;\n","import type { RcFile } from 'antd/lib/upload';\n\nexport const getBase64 = (file: RcFile): Promise<string> =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result as string);\n    reader.onerror = (error) => reject(error);\n  });\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__yaDan\",\"content\":\"styles_content__Bx-04\"};","import { Button, Col, Form, Input, Layout, Row, Switch } from 'antd';\nimport { useEffect } from 'react';\nimport { backendService } from 'services';\n\nimport type { ImageDeteted } from '../types';\n\ntype Props = {\n  handleRemove: () => void;\n  dataDetect: ImageDeteted;\n  onSucces: (img: string) => void;\n};\n\ntype CustomForm = CustomObject<{\n  isTrans: boolean;\n  text: string;\n  textTrans: string;\n}>;\n\nconst TranslateOptions = ({ handleRemove, dataDetect, onSucces }: Props) => {\n  const [form] = Form.useForm<CustomForm>();\n  useEffect(() => {\n    const originForm: CustomForm = {};\n    Object.entries(dataDetect.groupText ?? {}).forEach(([key, group]) => {\n      originForm[key] = {\n        isTrans: true,\n        text: group.text,\n        textTrans: 'Tiếng việt nè',\n      };\n    });\n    form.setFieldsValue(originForm);\n  }, [form, dataDetect]);\n\n  const handleTranslate = () => {\n    const dataForm = form.getFieldsValue();\n    const dataTrans: { textTrans: string; location: number[][] }[] = [];\n\n    Object.entries(dataForm ?? {}).forEach(([key, data]) => {\n      if (data.isTrans) {\n        dataTrans.push({\n          textTrans: dataForm[key].textTrans,\n          location: dataDetect.groupText[key].locate,\n        });\n      }\n    });\n\n    const dataPost = {\n      image: dataDetect.originImage,\n      dataTrans,\n    };\n\n    backendService.post<{ image: string }>('/translateText', dataPost).then((result) => {\n      if (result.kind === 'ok') {\n        onSucces(result.data.image);\n      }\n    });\n  };\n  const handleRemoveText = () => {\n    const dataForm = form.getFieldsValue();\n    const dataLocation: CustomObject<number[][]> = {};\n    Object.entries(dataForm).forEach(([key, group]) => {\n      if (group.isTrans) {\n        dataLocation[key] = dataDetect.groupText[key].locate;\n      }\n    });\n\n    const dataPost = {\n      image: dataDetect.originImage,\n      location: dataLocation,\n    };\n\n    backendService.post<{ image: string }>('/removeText', dataPost).then((result) => {\n      if (result.kind === 'ok') {\n        onSucces(result.data.image);\n      }\n    });\n  };\n\n  return (\n    <Layout style={{ background: 'white' }}>\n      <Form form={form} layout=\"vertical\">\n        {Object.entries(dataDetect.groupText ?? {}).map(([key], index) => (\n          <Row gutter={10} align=\"middle\" key={key}>\n            <Col span={2}>\n              <Form.Item label=\"Select\" name={[key, 'isTrans']} valuePropName=\"checked\">\n                <Switch />\n              </Form.Item>\n            </Col>\n            <Col span={11}>\n              <Form.Item label={`Group ${index + 1}`} name={[key, 'text']}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={11}>\n              <Form.Item label=\"Translate\" name={[key, 'textTrans']}>\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n        ))}\n      </Form>\n      <Row gutter={[10, 10]} style={{ justifyContent: 'center' }}>\n        <Col>\n          <Button danger type=\"primary\" onClick={handleRemoveText}>\n            Remove Text In Comic\n          </Button>\n        </Col>\n        <Col>\n          <Button type=\"primary\" onClick={handleTranslate}>\n            Translate Comic\n          </Button>\n        </Col>\n      </Row>\n      <Row style={{ justifyContent: 'center', marginTop: 10 }}>\n        <Col>\n          <Button type=\"primary\" onClick={handleRemove}>\n            Remove/Change Image\n          </Button>\n        </Col>\n      </Row>\n    </Layout>\n  );\n};\n\nexport default TranslateOptions;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"styles_container__CGPZu\"};","import { Button, Col, Layout, Row } from 'antd';\n\nimport S from './styles.module.less';\n\ntype Props = {\n  detectBubble: () => void;\n  handleRemove: () => void;\n};\n\nconst UploadOptions = ({ detectBubble, handleRemove }: Props) => (\n  <Layout className={S.container}>\n    <Row gutter={10}>\n      <Col>\n        <Button type=\"primary\" onClick={detectBubble}>\n          Detect Bubble\n        </Button>\n      </Col>\n      <Col>\n        <Button type=\"primary\" danger onClick={handleRemove}>\n          Remove/Change Image\n        </Button>\n      </Col>\n    </Row>\n  </Layout>\n);\n\nexport default UploadOptions;\n","import { Col, Image, Layout, notification, Row } from 'antd';\nimport Waiting from 'components/Waiting';\nimport React, { useState } from 'react';\nimport { backendService } from 'services';\n\nimport PickImage from './PickImage';\nimport S from './styles.module.less';\nimport TranslateOptions from './TranslateOptions';\nimport type { ImageDeteted } from './types';\nimport UploadOptions from './UploadOptions';\n\nconst Translate = () => {\n  const [img, setImg] = useState<string>();\n  const [waiting, setWaiting] = useState<boolean>(false);\n  const [dataDetect, setDataDetect] = useState<ImageDeteted>();\n\n  const detectBubble = () => {\n    if (img) {\n      setWaiting(true);\n      const base64Img = img?.toString().split(',')[1];\n      backendService.post<ImageDeteted>('/detectBubble', { image: base64Img }).then((result) => {\n        setWaiting(false);\n        if (result.kind === 'ok') {\n          setDataDetect(result.data);\n          setImg(`data:image/jpeg;base64,${result.data.imageDetected}`);\n        }\n      });\n    } else {\n      notification.warn({ message: 'Image not found', description: 'Please select image' });\n    }\n  };\n  return (\n    <Layout className={S.container}>\n      {waiting ? <Waiting /> : null}\n      <Layout.Header>Translate Image</Layout.Header>\n      <Layout.Content className={S.content}>\n        <Row gutter={[16, 8]} style={{ minHeight: window.innerHeight - 200 }}>\n          <Col span={10}>\n            {img ? (\n              <Image style={{ maxHeight: window.innerHeight - 200 }} src={img} />\n            ) : (\n              <PickImage onSelect={(value) => setImg(value)} />\n            )}\n          </Col>\n          <Col span={14}>\n            {dataDetect ? (\n              <TranslateOptions\n                onSucces={(value) => setImg(`data:image/jpeg;base64,${value}`)}\n                dataDetect={dataDetect}\n                handleRemove={() => {\n                  setImg(undefined);\n                  setDataDetect(undefined);\n                }}\n              />\n            ) : (\n              <UploadOptions detectBubble={detectBubble} handleRemove={() => setImg(undefined)} />\n            )}\n          </Col>\n        </Row>\n      </Layout.Content>\n    </Layout>\n  );\n};\n\nexport default Translate;\n","import { Layout } from 'antd';\nimport Translate from 'features/Translate';\n\nconst Home = () => (\n  <Layout>\n    <Translate />\n  </Layout>\n);\n\nexport default Home;\n"],"names":["getApiProblem","response","problem","kind","temporary","error","originalError","status","Api","_createClass","config","_this","_classCallCheck","api","post","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","path","params","wrap","_context","prev","next","sent","ok","abrupt","data","stop","_x","_x2","apply","arguments","this","create","backendService","baseURL","onSelect","Dragger","Upload","_jsxs","height","window","innerHeight","name","beforeUpload","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","getBase64","then","value","children","_jsx","className","InboxOutlined","_dataDetect$groupText2","handleRemove","dataDetect","onSucces","_Form$useForm","Form","form","_slicedToArray","useEffect","_dataDetect$groupText","originForm","Object","entries","groupText","forEach","_ref2","_ref3","key","group","isTrans","text","textTrans","setFieldsValue","Layout","style","background","layout","map","_ref8","index","Row","gutter","align","Col","span","label","valuePropName","Switch","concat","Input","justifyContent","Button","danger","type","onClick","dataForm","getFieldsValue","dataLocation","_ref6","_ref7","locate","dataPost","image","originImage","location","dataTrans","_ref4","_ref5","push","marginTop","detectBubble","S","_useState","useState","_useState2","img","setImg","_useState3","_useState4","waiting","setWaiting","_useState5","_useState6","setDataDetect","Waiting","minHeight","Image","maxHeight","src","PickImage","TranslateOptions","undefined","UploadOptions","base64Img","toString","split","imageDetected","notification","message","description","Translate"],"sourceRoot":""}